---
title: 今天月亮真大
date: 2017-03-12 20:20:53
tags: [日常, OCaml]
---
今天看了OCaml官方的部分文档，一些概念还不是很清楚，不过也算摸到了一些门道。
<!-- more -->
OCaml算是以函数式编程为主的语言，国内大学一般都是以C语言、java、c++等C系语言作为编程启蒙，而这些语言也是业界主流语言。但世界上还存在着另外一批神秘的编程语言，它们有个统一的名字叫做"函数式语言"，比如haskell、lisp、scheme等。C系语言的特点是面向机器，语法特性是符合现存的计算机模型的，可以充分利用计算机的资源，而函数式语言则是面向数学的，它们更符合数学定义，能在很大程度上还原公式定义等数学概念。  
单就OCaml来说，有几个地方给我的印象比较深：
- let和ref
OCaml中默认是表达式，所谓的表达式其实就是C++中的左值或字面量，或C语言中的宏定义，是无法获取地址的，只能原封不动的放在源代码的某个地方，而无法对表达式本身做进一步求值。如果想要实现C系语言中的变量，只可以使用ref来定义，但是ref定义的变量是对内存地址的引用，变量本身其实是指针，至于内存的分配和回收，由GC来完成。
- 泛型
OCaml对泛型的支持貌似很好，而且不是C++ template那样的简单的为所有类型生成相同的代码，似乎更加智能。
- match with和递归
OCaml中的match with和C语言中的switch case差不多，不过可以应用到自定义类型中，这就可以实现C语言中的enum+union的功能了。递归同样可以应用到类型定义和过程定义中。由于这个特点，在OCaml中很多事情可以使用递归来完成，而不必使用循环。语言特性对数据和函数来说没有区别对待，充分体现出函数是一等公民的思想，从数学定义的角度看这也比较...呃...完整。嗯，不错，这很函数式。 

今天的月亮很大，很圆，远远的看去好像离地平面很近，触手可及的样子。  
![](moon.jpg)