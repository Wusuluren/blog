---
title: 初识Ocaml
date: 2017-03-11 16:13:38
tags: [Ocaml, 编译原理]
---
打算学习编译原理，教材是[*CMSC 430 Introduction to Compilers.*](http://www.cs.umd.edu/class/spring2015/cmsc430/)。教材选用的教学语言是OCaml，这是一种结合了面向过程和面向对象思想的函数式语言，似乎好多课程都用它上课。既然如此，那就值得好好学习一下这门语言了。
<!-- more -->
从网上看了一些文章，OCaml给我留下的几个印象深刻的地方：
- 静态强类型+类型推导
OCaml对类型定义十分严格，没有隐式类型转换，int和float对应两套运算符，类型转换是函数，而不是语法内置特性。
- 函数是一等公民
函数和变量没有区别，都是value（而不是类型）。函数定义可以写成这样：`let add = fun x y -> x+y;;`，匿名函数是这样:`let add x y = x+y;;`。乍一看，和Rust有些像，应该是Rust借鉴了OCaml的语法，毕竟OCaml是Rust的爹。
- 其它
变量默认不可变，Rust也是这样。  
使用open导入模块（或者叫“包”？），比如`open Print`，这和Python的`from xxx import *`和C++的`using std`一样，不必使用模块名做前缀。  
- 从[这篇文章](https://www.douban.com/note/333343362/)里看到的
    1. “不要用共享变量来传递消息，而要用传递消息来共享变量。”
    让我有种穿越到Go语言的感觉，这说的不就是goroutinue和chan吗？
    2. “面向对象和函数式编程，本质都是数据加程序。
    面向对象，是有类型的数据，加上用来处理自己的数据的程序。
    函数式编程，使用闭包的形式，让作为返回值的函数戴上闭包里面的数据。”
    再次说明：程序等于算法+数据结构。